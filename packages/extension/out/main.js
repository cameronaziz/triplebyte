var w=Object.create;var d=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var U=(t,s)=>{for(var e in s)d(t,e,{get:s[e],enumerable:!0})},f=(t,s,e,n)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of x(s))!k.call(t,a)&&a!==e&&d(t,a,{get:()=>s[a],enumerable:!(n=g(s,a))||n.enumerable});return t};var P=(t,s,e)=>(e=t!=null?w(y(t)):{},f(s||!t||!t.__esModule?d(e,"default",{value:t,enumerable:!0}):e,t)),T=t=>f(d({},"__esModule",{value:!0}),t);var l=(t,s,e)=>new Promise((n,a)=>{var o=i=>{try{c(e.next(i))}catch(m){a(m)}},p=i=>{try{c(e.throw(i))}catch(m){a(m)}},c=i=>i.done?n(i.value):Promise.resolve(i.value).then(o,p);c((e=e.apply(t,s)).next())});var E={};U(E,{activate:()=>C,deactivate:()=>D});module.exports=T(E);var h=P(require("path")),r=require("vscode"),b=()=>{let t=r.workspace.workspaceFolders;return t?t.map(s=>s.uri):[]},j=t=>l(void 0,null,function*(){let e=(yield r.workspace.fs.readDirectory(t)).filter(([n])=>!n.startsWith(".")&&!n.startsWith("node_modules")).map(([n,a])=>r.Uri.file(h.default.join(t.fsPath,n)));return u(e)}),u=t=>l(void 0,null,function*(){let s=[];for(let e=0;e<t.length;e++){let n=t[e];switch((yield r.workspace.fs.stat(n)).type){case r.FileType.Directory:{let o=yield j(n);s.push(...o)}case r.FileType.File:n.path.endsWith("package.json")&&s.push(n)}}return s}),F=(t,s)=>l(void 0,null,function*(){let e=t.map(o=>l(void 0,null,function*(){let p=yield r.workspace.fs.readFile(o),c=JSON.parse(p.toString());if(c.bin)return s.sendText(`cd ${o.fsPath.split("/").slice(0,-1).join("/")}`),Object.keys(c.bin)})),a=(yield Promise.all(e)).filter(o=>!!o).reduce((o,p)=>o.concat(p),[]);return console.log(a),a}),W=()=>l(void 0,null,function*(){let t=b();if(t.length<1){r.window.showErrorMessage("No workspace found");return}let s=r.window.createTerminal({name:"Tetris",shellPath:"bash",location:1}),e=yield u(t);yield F(e,s),s.show(),r.commands.executeCommand("workbench.action.toggleMaximizedPanel"),s.sendText("tb")}),C=t=>{W()},D=()=>{};0&&(module.exports={activate,deactivate});
